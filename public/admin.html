<!-- public/admin.html file -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin | Manage Questions and Categories</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

   <!-- ===== HEADER ===== -->
  <header>
    <nav>
      <div class="nav-left">
        <a href="index.html">JMSpellingBee</a>
        <a href="index.html">Home</a>
        <a href="howtoplay.html">How to Play</a>
        <a href="#" id="my-account-link">My Account</a>
      </div>

      <div id="user-info" style="padding: 10px;"></div>

      <div class="nav-right">
        <a href="#" id="logout-btn">Log out</a>
      </div>
    </nav>
  </header>
  
  <main class="admin-panel">
    
    <!-- Include this at the top of <body> -->
    <div id="user-info" style="padding: 10px; background: #eee;"></div>

    <!-- Add your admin-specific content here -->
    <div id="admin-section">
      <!-- This section will be shown only to admins -->
      <h2>ðŸ§  Spelling Bee Admin Panel</h2>

      <!-- Category Management Section -->
      <section class="category-section">
        <h3>ðŸ“‚ Manage Categories</h3>

        <!-- Category Form -->
        <form id="category-form">
          <input type="hidden" id="category-id" />
          <input type="text" id="category-name" placeholder="Category name" required />
          <label>
            <input type="checkbox" id="category-default" />
            Default Category
          </label>
          <button type="submit">Save Category</button>
          <button type="button" id="cancel-category-edit" style="display: none;">Cancel</button>
        </form>

        <!-- Category Table -->
        <table id="category-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Default</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="category-list"></tbody>
        </table>
      </section>
      
      <hr>

      <!-- Question Form -->
      <h3>ðŸ“‚ Manage Questions</h3>
      <form id="question-form">
        <input type="hidden" id="question-id" />

        <!-- Word input -->
        <input type="text" id="word" placeholder="Word" required />

        <!-- Definition input -->
        <input type="text" id="definition" placeholder="Definition" required />

        <!-- Category dropdown -->
        <select id="category" name="category" required>
          <option value="">Select a category</option> <!-- Placeholder -->
        </select>

        <!-- Submit and Cancel buttons -->
        <button type="submit">Save Question</button>
        <button type="button" id="cancel-edit" style="display:none;">Cancel</button>
      </form>

      <!-- Question Table -->
      <h3>All Questions</h3>
      <table id="questions-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Word</th>
            <th>Definition</th>
            <th>Category</th> <!-- Added category column -->
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="question-list"></tbody>
      </table>

    </div>

  </main>

    <!-- ===== FOOTER ===== -->
  <footer>
    &copy; 2025 SpellingBee App. JMESYS Group. All rights reserved.
  </footer>

  <!-- Admin Script -->
  <script src="admin.js"></script>
  <script src="auth.js"></script>
  <script>
    // protectAdminPage();     // block access if not admin
    displayUserInfo();      // show current user info

    // Logout
    document.getElementById("logout-btn").addEventListener("click", () => {
      localStorage.removeItem("token");
      window.location.href = "index.html";
    });
    
  </script>
</body>
</html>
